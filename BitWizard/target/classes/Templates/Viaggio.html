<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dettagli del Viaggio</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
        <style>
/* Stile generale della chat */
#ChatDelViaggio {
    height: 600px; /* Altezza fissa per la chat */
    overflow-y: auto; /* Barra di scorrimento verticale */
    padding: 15px;
    border: 1px solid #dee2e6;
    border-radius: 20px; /* Angoli arrotondati per un aspetto più morbido */
    background-color: #ffffff;
    scrollbar-width: thin; /* Riduce la larghezza della scrollbar su Firefox */
    scrollbar-color: #c4c4c4 #ffffff; /* Colore della scrollbar su Firefox */
    margin-bottom: 1rem;
}

.chat-title {
    color: #ffffff;
    text-align: center;
    margin-bottom: 1rem;
}

.chat-container {
    max-height: 500px;
    overflow-y: auto;
    padding: 1rem;
    border-radius: 8px;
    background-color: #ffffff;
    margin-bottom: 1rem;
}

/* Stile del form di invio */
.message-form {
    display: flex;
    justify-content: center;
    background-color: #ffffff;
    padding: 0.5rem;
    border-radius: 50px;
}

.input-container {
    display: flex;
    align-items: center;
    width: 100%;
    position: relative;
}

/* Input per il messaggio */
.message-input {
    flex: 1;
    border: none;
    outline: none;
    padding: 0.8rem 1rem;
    border-radius: 50px;
    font-size: 1rem;
    color: #ffffff;
    background-color: #fff;
    margin-right: 0.5rem;
}

/* Icona per allegati */
.attach-icon {
    color: #c0c0c0;
    font-size: 1.2rem;
    margin-right: 0.5rem;
    cursor: pointer;
}

/* Pulsante di invio */
.send-button {
    background-color: #c0c0c0;
    color: #fff;
    border: none;
    outline: none;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    font-size: 1.2rem;
}

/* Hover ed effetti */
.send-button:hover, .attach-icon:hover {
    background-color: #3b2e5a;
    color: #fff;
}


	.d-flex.align-items-start {
    	align-items: flex-start;
	}

	.p-3.rounded {
  	  max-width: 75%;
	}

	.shadow-sm {
 	   box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
	}
    
        .container {
            margin-top: 20px;
        }
        .img-preview {
            width: 100px;
            height: 100px;
            object-fit: cover;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .immagine-copertina {
            width: 300px;
            height: 200px;
            object-fit: cover;
            margin-bottom: 20px;
        }
        .immagini-viaggio img {
            width: 150px;
            height: 150px;
            object-fit: cover;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        .tag {
            display: inline-block;
            padding: 5px 10px;
            margin: 5px;
            background-color: lightblue;
            border-radius: 5px;
        }
    .creatore-section {
        display: flex;
        align-items: center;
        margin-bottom: 20px;
    }
    .creatore-section img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-right: 15px;
    }
    </style>
</head>
<body>
    <div class="container">
        <h1 id="nomeViaggio">Nome del Viaggio</h1>
        <div class="creatore-section">
        	<img id="immagineCreatore" class="img-thumbnail" alt="Immagine profilo creatore">
        	<p><strong>Creatore:</strong> <span id="nomeCreatore"></span></p>
    	</div>
        <div class="row">
            <div class="col-md-6">
                <!-- Immagine copertina -->
                <img id="immagineCopertina" class="immagine-copertina" alt="Immagine Copertina">
            </div>
            <div class="col-md-6">
                <h3>Dettagli del Viaggio</h3>
                <p><strong>Luogo di Partenza:</strong> <span id="luogoPartenza"></span></p>
                <p><strong>Luogo di Arrivo:</strong> <span id="luogoArrivo"></span></p>
                <p><strong>Data di Partenza:</strong> <span id="dataPartenza"></span></p>
                <p><strong>Data di Ritorno:</strong> <span id="dataRitorno"></span></p>
                <p><strong>Prezzo:</strong> €<span id="prezzo"></span></p>
                <p><strong>Età Minima:</strong> <span id="etaMin"></span></p>
                <p><strong>Età Massima:</strong> <span id="etaMax"></span></p>
                <p><strong>Numero Partecipanti:</strong> Min. <span id="numPartMin"></span> / Max. <span id="numPartMax"></span></p>
            </div>
        </div>

        <!-- Sezione per le immagini del viaggio -->
        <h3>Immagini del Viaggio</h3>
        <div id="immaginiViaggio" class="row immagini-viaggio"></div>
        <input type="file" id="inputImmagineViaggio" accept="image/*" style="display: none;">
		<button id="aggiungiImgBtn" type="button" class="btn btn-primary" style="display: none;">Aggiungi immagine al Viaggio</button>
		
        <!-- Sezione per i tag del viaggio -->
        <h3>Tag del Viaggio</h3>
        <div id="tagsViaggio"></div>

        <!-- Sezione per i partecipanti -->
        <h3>Partecipanti al Viaggio</h3>
        <ul id="listaPartecipanti" class="list-group"></ul>
        
        <form id="iscrivitiForm" method="POST">
    		<button id="iscrivitiBtn" type="submit" class="btn btn-primary" style="display: none;">Iscriviti al viaggio</button>
    		<button id="annullaIscrizioneBtn" type="submit" class="btn btn-secondary" style="display: none;">Annulla Iscrizione</button>
		</form>
		<p id="messaggioCompleto" style="display: none; color: red;">Il viaggio è al completo</p>
		
		<form id="creatoreForm" method="POST" >
		<!-- Pulsanti specifici per il creatore (inizialmente nascosti) -->
    		<div id="pulsantiCreatore" style="display: none;">
    			<button id="modificaBtn" class="btn btn-warning">Modifica Viaggio</button>
    			<button id="annullaBtn" class="btn btn-danger">Cancella Viaggio</button>
		</div>
		</form>
   			
   		<div id="ChatDelViaggio" style="display: none;">
    <h2 class="chat-title">Chat del viaggio</h2>

    <!-- Container per i messaggi -->
    <div id="messaggioContainer" class="chat-container">
        <!-- I messaggi verranno aggiunti qui dinamicamente -->
    </div>

    <!-- Form per inviare il messaggio -->
    <form id="messaggioForm" enctype="multipart/form-data" class="message-form">
        <div class="input-container">
            <input type="text" id="testo" name="testo" class="message-input" placeholder="Scrivi un messaggio..." required>
            <input type="file" id="immagine" name="immagineMessaggio" class="file-input" hidden>
            <label for="immagine" class="attach-icon">
                <i class="fas fa-paperclip"></i>
            </label>
            <button type="submit" class="send-button">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </form>
</div>

</div>

    <p id="result"></p>
	
	<form id="recensioneForm" method="POST" style="display: none;">
		<label for="testo">Testo della recensione:</label>
		<input type="text" id="testoRecensione" name="testo" required>
		
		<div class="rating">
  			<input type="radio" id="star1" name="rating" value="1" />
  			<label for="star1" title="1 star">☆</label>
  			<input type="radio" id="star2" name="rating" value="2" />
  			<label for="star2" title="2 stars">☆</label>
  			<input type="radio" id="star3" name="rating" value="3" />
 			<label for="star3" title="3 stars">☆</label>
  			<input type="radio" id="star4" name="rating" value="4" />
  			<label for="star4" title="4 stars">☆</label>
  			<input type="radio" id="star5" name="rating" value="5" />
  			<label for="star5" title="5 stars">☆</label>		
		</div>	
		
    	<button type="submit">Pubblica recensione</button>
	</form>
	
	<div id="recensioneContainer" class="row"></div>
	
	<button id="mostraRecensioni" type="button" class="btn btn-primary" style="display: none;">Vedi recensioni</button>

    </div>

<script src="/index.js" defer></script>

</body>
</html>