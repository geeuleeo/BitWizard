<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dettagli del Viaggio</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=ADLaM+Display&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/Viaggio/styles/style.css"> <!-- Link al file CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
<nav id="navbar">
    <div class="logo">
        <img src="../assets/img/viaggiodasolo.svg" alt="Logo">
    </div>
    <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/lista">Viaggi</a></li>
        <li><a href="CreaViaggio">Crea il tuo viaggio</a></li>
        <li><a href="#" onclick="logout()">Logout</a></li>
    </ul>
</nav>

    <div class="container">
        <h1 id="nomeViaggio">Nome del Viaggio</h1>
        <div class="creatore-section">
        	<img id="immagineCreatore" class="img-thumbnail" alt="Immagine profilo creatore">
        	<p><strong>Creatore:</strong> <span id="nomeCreatore"></span></p>
    	</div>
        <div class="row">
            <div class="col-md-6">
                <!-- Immagine copertina -->
                <img id="immagineCopertina" class="immagine-copertina" alt="Immagine Copertina">
            </div>
            <div class="col-md-6">
                <h3>Dettagli del Viaggio</h3>
                <p><strong>Luogo di Partenza:</strong> <span id="luogoPartenza"></span></p>
                <p><strong>Luogo di Arrivo:</strong> <span id="luogoArrivo"></span></p>
                <p><strong>Data di Partenza:</strong> <span id="dataPartenza"></span></p>
                <p><strong>Data di Ritorno:</strong> <span id="dataRitorno"></span></p>
                <p><strong>Prezzo:</strong> €<span id="prezzo"></span></p>
                <p><strong>Età Minima:</strong> <span id="etaMin"></span></p>
                <p><strong>Età Massima:</strong> <span id="etaMax"></span></p>
                <p><strong>Numero Partecipanti:</strong> Min. <span id="numPartMin"></span> / Max. <span id="numPartMax"></span></p>
            </div>
        </div>

        <!-- Sezione per le immagini del viaggio -->
        <h3>Immagini del Viaggio</h3>
        <div id="immaginiViaggio" class="row immagini-viaggio"></div>
        <input type="file" id="inputImmagineViaggio" accept="image/*" style="display: none;">
		<button id="aggiungiImgBtn" type="button" class="btn btn-primary" style="display: none;">Aggiungi immagine al Viaggio</button>
		
		<div id="imageModal" class="modal" onclick="closeModal()">
    		<span class="close">&times;</span>
    		<img class="modal-content" id="modalImg">
		</div>

        <!-- Sezione per i tag del viaggio -->
        <h3>Tag del Viaggio</h3>
        <div id="tagsViaggio"></div>

        <!-- Sezione per i partecipanti -->
        <h3>Partecipanti al Viaggio</h3>
        <ul id="listaPartecipanti" class="list-group"></ul>
        
        <form id="iscrivitiForm" method="POST">
    		<button id="iscrivitiBtn" type="submit" class="btn btn-primary" style="display: none;">Iscriviti al viaggio</button>
    		<button id="annullaIscrizioneBtn" type="submit" class="btn btn-secondary" style="display: none;">Annulla Iscrizione</button>
		</form>
		<p id="messaggioCompleto" style="display: none; color: red;">Il viaggio è al completo</p>
		
		<form id="creatoreForm" method="POST" >
		<!-- Pulsanti specifici per il creatore (inizialmente nascosti) -->
    		<div id="pulsantiCreatore" style="display: none;">
    			<button id="modificaBtn" class="btn btn-warning">Modifica Viaggio</button>
    			<button id="annullaBtn" class="btn btn-danger">Cancella Viaggio</button>
		</div>
		</form>
   			
   		<div id="ChatDelViaggio" style="display: none;">
    <h2 class="chat-title">Chat del viaggio</h2>

    <!-- Container per i messaggi -->
    <div id="messaggioContainer" class="chat-container">
        <!-- I messaggi verranno aggiunti qui dinamicamente -->
    </div>

    <!-- Form per inviare il messaggio -->
    <form id="messaggioForm" enctype="multipart/form-data" class="message-form">
        <div class="input-container">
            <input type="text" id="testo" name="testo" class="message-input" placeholder="Scrivi un messaggio..." required>
            <input type="file" id="immagine" name="immagineMessaggio" class="file-input" hidden>
            <label for="immagine" class="attach-icon">
                <i class="fas fa-paperclip"></i>
            </label>
            <button type="submit" class="send-button">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </form>
</div>

</div>

    <p id="result"></p>
	
	<form id="recensioneForm" method="POST" style="display: none;">
		<label for="testo">Testo della recensione:</label>
		<input type="text" id="testoRecensione" name="testo" required>
		
		<div class="rating">
  			<input type="radio" id="star1" name="rating" value="1" />
  			<label for="star1" title="1 star">☆</label>
  			<input type="radio" id="star2" name="rating" value="2" />
  			<label for="star2" title="2 stars">☆</label>
  			<input type="radio" id="star3" name="rating" value="3" />
 			<label for="star3" title="3 stars">☆</label>
  			<input type="radio" id="star4" name="rating" value="4" />
  			<label for="star4" title="4 stars">☆</label>
  			<input type="radio" id="star5" name="rating" value="5" />
  			<label for="star5" title="5 stars">☆</label>		
		</div>	
		
    	<button type="submit">Pubblica recensione</button>
	</form>
	
	<div id="recensioneContainer" class="row"></div>
	
	<button id="mostraRecensioni" type="button" class="btn btn-primary" style="display: none;">Vedi recensioni</button>

    </div>

<script src="/Viaggio/scripts/main.js" defer></script>

 <!-- Footer -->
    <footer class="custom-container">
        <div class="footer-content">
            <p>VIAGGIO DA SOLO S.p.A.</p>
            <p>Email: info@viaggiodasolospa.it</p>
            <p>Tel: 011 456789</p>
            <p>P. Iva: IT08425320721</p>
            <p>Indirizzo: Via Jacopo Durandi, 10</p>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 Viaggio da Solo S.p.A.</p>
        </div>
    </footer>

</body>
</html>